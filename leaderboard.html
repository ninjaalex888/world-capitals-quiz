
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Leaderboard</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAi9sd4U0BLqvpOM3g5P2HdDzMjJxltrWY",
      authDomain: "worldcapitalsquiz.firebaseapp.com",
      projectId: "worldcapitalsquiz",
      storageBucket: "worldcapitalsquiz.firebasestorage.app",
      messagingSenderId: "794094874571",
      appId: "1:794094874571:web:d292014542616ca553d04e",
      measurementId: "G-MKS0QNWVS4"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
  </script>
</head>
<body>
  <header>
    <h1>üåç Leaderboard</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="map.html">World Map</a>
      <a href="leaderboard.html" class="active">Leaderboard</a>
    </nav>
  </header>
  <main>
    <section class="card">
      <h2>Top Scores</h2>
      <table id="score-table">
        <thead>
          <tr>
            <th>Rank</th>
            <th>Username</th>
            <th>High Score</th>
          </tr>
        </thead>
        <tbody>
          <!-- Leaderboard rows populated by JS -->
        </tbody>
      </table>
    </section>
  </main>
  <script>
    async function loadLeaderboard() {
      const snapshot = await db.collection("users").orderBy("highScore", "desc").limit(10).get();
      const tbody = document.querySelector("#score-table tbody");
      tbody.innerHTML = "";
      snapshot.forEach((doc, i) => {
        const user = doc.data();
        const tr = document.createElement("tr");
        tr.innerHTML = `<td>${i + 1}</td><td>${doc.id}</td><td>${user.highScore}</td>`;
        tbody.appendChild(tr);
      });
    }
    document.addEventListener("DOMContentLoaded", loadLeaderboard);
  </script>
</body>
</html>
